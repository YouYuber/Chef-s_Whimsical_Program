<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>動画再生</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

<header>
  <h1>動画再生</h1>
</header>

<div class="video-container" id="player"></div>

<a href="index.html" class="back">← 動画一覧に戻る</a>

<script>
  async function loadVideo() {
    const params = new URLSearchParams(location.search);
    const id = params.get("id");

    const res = await fetch("videos.json");
    const videos = await res.json();
    const video = videos.find(v => v.id === id);

    if (!video) {
      document.getElementById("player").innerHTML = "<h2>動画が見つかりません。</h2>";
      return;
    }

    document.title = video.title;

    document.getElementById("player").innerHTML = `
      <h2>${video.title}</h2>
      <iframe 
        src="https://drive.google.com/file/d/${video.driveId}/preview"
        allow="autoplay"
      ></iframe>
      <p>${video.description}</p>
    `;
  }

  loadVideo();
</script>

</body>
</html>
